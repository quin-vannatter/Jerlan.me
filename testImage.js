// This script will pull data from an image and create an array that can be inserted.

var canvas;
var context;

var image = [[0,0,0,0],50,50,[[246,246,246,84,[4]],[245,245,245,175,[8]],[250,250,250,206,[12]],[250,250,250,234,[16]],[250,250,250,241,[20,24,28,32,36,40,44,48,52,56,60,64,68,72,76,80,84,88,92,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,164,168,172,176,800,1000,1200,1400,1600,1800,2000,2200,2400,2600,2800,3000,3200,3400,3600,3800,4000,4200,4400,4600,4800,5000,5200,5400,5600,5800,6000,6200,6400,6600,6800,7000,7200,7400,7600,7800,8000,8200,8400,8600,8800]],[255,255,255,215,[180]],[230,230,230,203,[184]],[141,141,141,146,[188]],[128,128,128,34,[192]],[244,244,244,91,[200]],[250,250,250,255,[204,208,212,216,404,408,604]],[255,255,255,255,[220,224,228,232,236,240,244,248,252,256,260,264,268,272,276,280,284,288,292,296,300,304,308,312,316,320,324,328,332,336,340,344,348,352,356,360,364,368,372,376,380,412,416,608,804,808,1004,1204,1404,1604,1804,2004,2204,2404,2604,2804,3004,3204,3404,3604,3804,4004,4204,4404,4604,4804,5004,5204,5404,5604,5804,6004,6204,6404,6604,6804,7004,7204,7404,7604,7804,8004,8204,8404,8604,8804,9004]],[235,235,235,255,[384,424,1008,9008]],[164,164,164,255,[388,8980,9176]],[146,146,146,235,[392]],[145,145,145,30,[396]],[250,250,250,217,[400]],[240,240,240,255,[420,580]],[230,230,230,255,[428,432,436,440,444,448,452,456,460,464,468,472,476,480,484,488,492,496,500,504,508,512,516,520,524,528,532,536,540,544,548,552,556,560,564,568,572,576,1208,1408,1608,1808,2008,2208,2408,2608,2808,3008,3208,3408,3608,3808,4008,4208,4408,4608,4808,5008,5208,5408,5608,5808,6008,6208,6408,6608,6808,7008,7208,7408,7608,7808,8008,8208,8408,8608,8808]],[199,199,199,255,[584]],[119,119,119,255,[588,592,1456,1476,1480,1652,2096,2300,2452,2508,2652,2712,2852,2916,3056,3260,3328,3532,3672,3736,3876,3940,4080,4280,4672,4864,5060,5340,5532,5728,5860,6120,6260,6528,6668,6732,6872,7076,7348,7488,7552,7692,8308,8512,8716,8924,8952,9328,9332,9336,9340,9344,9348,9352,9376]],[129,129,129,128,[596]],[250,250,250,248,[600]],[245,245,245,255,[612,9204]],[189,189,189,255,[616,812]],[159,159,159,255,[620,980,1180,1380,1580,1780,1980,2180,2380,2580,2780,2980,3180,3380,3580,3780,3980,4180,4380,4580,4780,4980,5180,5380,5580,5780,5980,6180,6380,6580,6780,6980,7180,7380,7580,7780,7980,8180,8380,8580,8780]],[146,146,146,255,[624,828,832,836,840,844,848,852,856,860,864,868,872,876,880,884,888,892,896,900,904,908,912,916,920,924,928,932,936,940,944,948,952,956,960,964,968,972,976,1012,1020,1024,1028,1032,1036,1040,1044,1048,1052,1084,1088,1092,1096,1100,1104,1108,1112,1116,1120,1124,1128,1132,1136,1140,1144,1148,1152,1156,1160,1164,1168,1172,1176,1216,1220,1224,1228,1232,1236,1240,1244,1288,1292,1296,1300,1304,1308,1312,1316,1320,1324,1328,1332,1336,1340,1344,1348,1352,1356,1360,1364,1368,1372,1376,1416,1420,1424,1428,1432,1436,1440,1496,1500,1504,1508,1512,1516,1520,1524,1528,1532,1536,1540,1544,1548,1552,1556,1560,1564,1568,1572,1576,1616,1620,1624,1628,1632,1636,1640,1700,1704,1708,1712,1716,1720,1724,1728,1732,1736,1740,1744,1748,1752,1756,1760,1764,1768,1772,1776,1816,1820,1824,1828,1832,1836,1840,1908,1912,1916,1920,1924,1928,1932,1936,1940,1944,1948,1952,1956,1960,1964,1968,1972,1976,2016,2020,2024,2028,2032,2036,2040,2112,2116,2120,2124,2128,2132,2136,2140,2144,2148,2152,2156,2160,2164,2168,2172,2176,2216,2220,2224,2228,2232,2236,2240,2316,2320,2324,2328,2332,2336,2340,2344,2348,2352,2356,2360,2364,2368,2372,2376,2416,2420,2424,2428,2432,2436,2440,2524,2528,2532,2536,2540,2544,2548,2552,2556,2560,2564,2568,2572,2576,2616,2620,2624,2628,2632,2636,2640,2728,2732,2736,2740,2744,2748,2752,2756,2760,2764,2768,2772,2776,2816,2820,2824,2828,2832,2836,2840,2932,2936,2940,2944,2948,2952,2956,2960,2964,2968,2972,2976,3016,3020,3024,3028,3032,3036,3040,3044,3136,3140,3144,3148,3152,3156,3160,3164,3168,3172,3176,3216,3220,3224,3228,3232,3236,3240,3244,3344,3348,3352,3356,3360,3364,3368,3372,3376,3416,3420,3424,3428,3432,3436,3440,3444,3448,3452,3548,3552,3556,3560,3564,3568,3572,3576,3616,3620,3624,3628,3632,3636,3640,3644,3648,3652,3656,3752,3756,3760,3764,3768,3772,3776,3816,3820,3824,3828,3832,3836,3840,3844,3848,3852,3856,3860,3952,3956,3960,3964,3968,3972,3976,4016,4020,4024,4028,4032,4036,4040,4044,4048,4052,4056,4060,4064,4068,4152,4156,4160,4164,4168,4172,4176,4216,4220,4224,4228,4232,4236,4240,4244,4248,4252,4256,4260,4264,4268,4352,4356,4360,4364,4368,4372,4376,4416,4420,4424,4428,4432,4436,4440,4444,4448,4452,4456,4552,4556,4560,4564,4568,4572,4576,4616,4620,4624,4628,4632,4636,4640,4644,4648,4652,4752,4756,4760,4764,4768,4772,4776,4816,4820,4824,4828,4832,4836,4840,4844,4848,4952,4956,4960,4964,4968,4972,4976,5016,5020,5024,5028,5032,5036,5040,5044,5048,5152,5156,5160,5164,5168,5172,5176,5216,5220,5224,5228,5232,5236,5240,5244,5248,5352,5356,5360,5364,5368,5372,5376,5416,5420,5424,5428,5432,5436,5440,5444,5448,5552,5556,5560,5564,5568,5572,5576,5616,5620,5624,5628,5632,5636,5640,5644,5648,5744,5748,5752,5756,5760,5764,5768,5772,5776,5816,5820,5824,5828,5832,5836,5840,5844,5848,5936,5940,5944,5948,5952,5956,5960,5964,5968,5972,5976,6016,6020,6024,6028,6032,6036,6040,6044,6048,6132,6136,6140,6144,6148,6152,6156,6160,6164,6168,6172,6176,6216,6220,6224,6228,6232,6236,6240,6244,6248,6336,6340,6344,6348,6352,6356,6360,6364,6368,6372,6376,6416,6420,6424,6428,6432,6436,6440,6444,6448,6544,6548,6552,6556,6560,6564,6568,6572,6576,6616,6620,6624,6628,6632,6636,6640,6644,6648,6652,6748,6752,6756,6760,6764,6768,6772,6776,6816,6820,6824,6828,6832,6836,6840,6844,6848,6852,6856,6952,6956,6960,6964,6968,6972,6976,7016,7020,7024,7028,7032,7036,7040,7044,7048,7052,7056,7060,7156,7160,7164,7168,7172,7176,7216,7220,7224,7228,7232,7236,7240,7244,7248,7252,7256,7260,7264,7268,7364,7368,7372,7376,7416,7420,7424,7428,7432,7436,7440,7444,7448,7452,7456,7460,7464,7468,7472,7564,7568,7572,7576,7616,7620,7624,7628,7632,7636,7640,7644,7648,7652,7656,7660,7664,7668,7672,7676,7764,7768,7772,7776,7816,7820,7824,7828,7832,7836,7840,7844,7848,7852,7856,7860,7864,7868,7872,7876,7880,7884,7964,7968,7972,7976,8016,8020,8024,8028,8032,8036,8040,8044,8048,8052,8056,8060,8064,8068,8072,8076,8080,8084,8164,8168,8172,8176,8216,8220,8224,8228,8232,8236,8240,8244,8248,8252,8256,8260,8264,8268,8272,8276,8280,8284,8288,8292,8364,8368,8372,8376,8416,8420,8424,8428,8432,8436,8440,8444,8448,8452,8456,8460,8464,8468,8472,8476,8480,8484,8488,8492,8496,8564,8568,8572,8576,8616,8620,8624,8628,8632,8636,8640,8644,8648,8652,8656,8660,8664,8668,8672,8676,8680,8684,8688,8692,8696,8700,8764,8768,8772,8776,8816,8820,8824,8828,8832,8836,8840,8844,8848,8852,8856,8860,8864,8868,8872,8876,8880,8884,8888,8892,8896,8900,8904,8908,8964,8968,8972,8976,9012,9116,9160,9172,9180]],[141,141,141,255,[628,632,636,640,644,648,652,656,660,664,668,672,676,680,684,688,692,696,700,704,708,712,716,720,724,728,732,736,740,744,748,752,756,760,764,768,772,776,824,1016,1056,1060,1064,1068,1072,1076,1080,1412,1444,1612,1644,1696,1812,1844,1904,2012,2044,2108,2212,2244,2312,2412,2444,2520,2612,2644,2724,2812,2844,3012,3212,3248,3340,3412,3544,3612,3660,3748,3812,3864,4012,4212,4412,4460,4612,4656,4812,4852,5012,5212,5252,5412,5452,5548,5612,5812,5932,6012,6212,6412,6452,6540,6612,6744,6812,6860,7012,7064,7212,7272,7360,7412,7612,7680,7812,8012,8088,8212,8296,8412,8500,8612,8704,8812,8912,9120,9156]],[151,151,151,255,[780,9016,9020,9024,9028,9032,9036,9040,9044,9048,9052,9056,9060,9064,9068,9072,9076,9080,9084,9088,9092,9096,9100,9104,9108,9112,9164,9168,9604]],[96,96,96,255,[784,1656,1668,1676,1860,1864,1884,2060,2068,2072,2256,2264,2268,2272,2276,2456,2468,2472,2480,2484,2500,2672,2676,2684,2688,2704,2876,2880,2884,2888,2892,3084,3092,3096,3100,3116,3268,3288,3292,3300,3304,3320,3472,3492,3496,3504,3508,3696,3700,3704,3708,3712,3716,3884,3904,3908,3912,3916,3920,4108,4112,4120,4124,4136,4308,4312,4316,4320,4324,4484,4512,4516,4520,4692,4696,4700,4704,4708,4712,4872,4880,4884,4888,4892,4896,4900,4908,5064,5080,5084,5088,5092,5136,5268,5272,5276,5280,5284,5288,5332,5468,5472,5476,5480,5664,5668,5672,5676,5680,5684,5720,5864,5872,5876,5880,5884,5916,6064,6076,6080,6084,6096,6284,6288,6296,6316,6488,6492,6500,6504,6520,6692,6696,6704,6708,6900,6904,6912,6916,6932,7084,7104,7108,7112,7116,7120,7136,7288,7308,7312,7320,7324,7512,7516,7524,7528,7716,7720,7724,7728,7732,7748,7904,7924,7928,7936,8108,8128,8132,8136,8548,8724,8744,8748]],[10,10,10,255,[788,792,988,1188,1388,1588,1788,1988,2188,2388,2588,2788,2988,3188,3388,3588,3788,3988,4188,4388,4588,4788,4988,5188,5388,5492,5588,5788,5988,6188,6388,6588,6788,6988,7188,7388,7588,7788,7988,8188,8388,8588,8788,9192,9388,9392,9576,9584,9588,9780,9784]],[19,19,19,164,[796]],[129,129,129,255,[816,1256,1260,1264,1268,1272,1276,1452,1484,1648,1692,1848,1896,2048,2100,2248,2304,2448,2512,2648,2716,2848,2920,3052,3256,3332,3536,3668,3740,3872,3944,4076,4276,4472,4664,4860,5056,5256,5344,5456,5540,5656,5732,5856,5924,6056,6124,6256,6328,6460,6532,6736,6868,6944,7072,7148,7352,7484,7556,7688,7892,8096,8100,8508,8712,8920,8956,9128,9132,9136,9140,9144,9148,9216,9220,9224,9228,9232,9236,9240,9244,9248,9252,9256,9260,9264,9268,9272,9276,9280,9284,9288,9292,9296,9300,9304,9308,9312,9316,9320,9360,9364,9368]],[134,134,134,255,[820,1212,1248,1252,1280,1284,1448,1488,1492,1900,2104,2308,2516,2720,2924,2928,3048,3128,3132,3252,3336,3456,3460,3540,3664,3744,3868,3948,4072,4148,4272,4348,4464,4468,4548,4660,4748,4856,4948,5052,5148,5348,5544,5652,5736,5740,5852,5928,6052,6128,6252,6332,6456,6536,6656,6660,6740,6864,6948,7068,7152,7276,7356,7476,7480,7560,7684,7760,7888,7960,8092,8160,8300,8360,8504,8560,8708,8760,8916,8960,9124,9152,9372]],[106,106,106,255,[984,1184,1384,1464,1584,1784,1852,1888,1984,2052,2092,2184,2384,2584,2708,2784,2856,2984,3060,3184,3264,3324,3384,3528,3584,3676,3784,3880,3984,4084,4140,4184,4284,4340,4384,4480,4540,4584,4740,4784,4940,4984,5096,5184,5260,5336,5384,5460,5584,5724,5784,5888,5984,6184,6264,6320,6384,6524,6584,6784,6876,6984,7080,7140,7184,7344,7384,7548,7584,7696,7752,7784,7900,7952,7984,8152,8184,8312,8352,8384,8516,8552,8584,8720,8784,8928,8948,9608]],[0,0,0,255,[992,1192,1392,1592,1792,1992,2192,2392,2592,2792,2992,3192,3392,3592,3792,3992,4192,4392,4592,4792,4992,5192,5392,5592,5792,5992,6192,6392,6592,6792,6992,7192,7392,7592,7792,7992,8192,8392,8592,8792,8988,9188,9384,9580,9612,9616,9620,9624,9628,9632,9636,9640,9644,9648,9652,9656,9660,9664,9668,9672,9676,9680,9684,9688,9692,9696,9700,9704,9708,9712,9716,9720,9724,9728,9732,9736,9740,9744,9748,9752,9756,9760,9764,9768,9772,9776]],[0,0,0,157,[996]],[5,5,5,157,[1196,1396,1596,1796,1996,2196,2396,2596,2796,2996,3196,3396,3596,3796,3996,4196,4396,4596,4796,4996,5196,5396,5596,5796,5996,6196,6396,6596,6796,6996,7196,7396,7596,7796,7996,8196,8396,8596,8796,8996]],[114,114,114,255,[1460,1468,1472,1684,2252,2504,3120,3468,5140,5660,5920,6060,6464,6936,7284,8104,8752]],[91,91,91,255,[1660,1664,1672,1856,1868,1872,2056,2064,2076,2088,2260,2280,2460,2464,2476,2680,2860,2896,3064,3080,3088,3284,3296,3500,3512,3524,3680,4088,4116,4288,4328,4336,4496,4508,4680,4684,4688,4736,4876,4936,5068,5072,5076,5100,5264,5328,5464,5484,5524,5892,6088,6268,6280,6292,6472,6496,6676,6700,6712,6724,6880,6896,6908,7100,7316,7328,7340,7496,7520,7532,7544,7700,7736,7920,7932,7940,7948,8140,8148,8316,8332,8336,8348,8520,8728,8740]],[101,101,101,255,[1680,2296,2656,2912,3732,3936,4500,4504,4524,4676,4716,4868,4904,5528,6092,6116,6300,6468,6672,6728,7492,8932,8936,8940,8944]],[124,124,124,255,[1688,1892,3124,3464,4144,4344,4476,4544,4668,4744,4944,5144,5536,6324,6664,6940,7144,7280,7756,7896,7956,8156,8304,8356,8556,8756,9212,9324,9356,9408]],[81,81,81,255,[1876,1880,2488,2496,3068,3104,3112,3272,3316,3488,3888,3924,4128,4304,4488,4492,4528,4912,5292,5520,5912,6068,6112,6928,7088,7124,7132,7304,7336,7740,7744,7908,7944,8124,8144,8340,8344,8524,8736,8984]],[71,71,71,255,[2080,2084,2288,2492,2700,2904,3076,3108,3312,3516,3520,3684,3692,3724,3928,4092,4104,4132,4332,4724,4732,5104,5516,5688,5712,6272,6312,6512,6680,6716,6720,6892,6924,7332,7500,7508,7712,8320,8528,8532,8536]],[76,76,76,255,[2284,2664,2864,2872,2900,3720,4932,5128,5324,6072,6304,6516,6688,6884,6920,7536,7540,7704,8328,8540]],[86,86,86,255,[2292,2660,2668,2692,2908,3308,3476,3728,3900,3932,4536,4720,5132,5716,5868,6484,6508,7292,8112,8544,8732]],[66,66,66,255,[2696,2868,3072,3276,3480,4292,4532,5320,5908,6108,6276,6476,6480,7092,7096,7128,7296,7912,7916,8116,8120]],[61,61,61,255,[3280,3484,3688,5124,5512,6308,6684,6888,7300,7504,7708,8324]],[56,56,56,255,[3892,3896,4296,4300,4728,4928,5108,5296,5316,5708,6100]],[35,35,35,255,[4096,4920,4924,5112,5300,5308,5504,5704,5904,6104,9380]],[33,33,33,255,[4100,5116,5304,5896,9184]],[50,50,50,255,[4916]],[40,40,40,255,[5120,5488]],[45,45,45,255,[5312,5508]],[15,15,15,255,[5496,5692,9412]],[23,23,23,255,[5500,5700,9416,9420,9424,9428,9432,9436,9440,9444,9448,9452,9456,9460,9464,9468,9472,9476,9480,9484,9488,9492,9496,9500,9504,9508,9512,9516,9520,9524,9528,9532,9536,9540,9544,9548,9552,9556,9560,9564,9568,9572]],[5,5,5,255,[5696,8992,9592,9788]],[18,18,18,255,[5900]],[255,255,255,244,[9000]],[5,5,5,160,[9196]],[240,240,240,236,[9200]],[217,217,217,255,[9208]],[5,5,5,151,[9396]],[159,159,159,186,[9400]],[169,169,169,255,[9404]],[11,11,11,94,[9596]],[133,133,133,67,[9600]],[10,10,10,207,[9792,9984]],[15,15,15,17,[9796]],[161,161,161,73,[9804]],[114,114,114,184,[9808]],[10,10,10,205,[9812]],[5,5,5,199,[9816]],[10,10,10,199,[9820,9824,9828,9832,9836,9840,9844,9848,9852,9856,9860,9864,9868,9872,9876,9880,9884,9888,9892,9896,9900,9904,9908,9912,9916,9920,9924,9928,9932,9936,9940,9944,9948,9952,9956,9960,9964,9968,9972,9976]],[10,10,10,200,[9980]],[11,11,11,143,[9988]],[13,13,13,20,[9992]]]];

var data;
var color;

document.addEventListener('DOMContentLoaded', function() {
    canvas = document.getElementById('canvas');
    context = canvas.getContext('2d');
    data = loadImage(image);
    color = {
        r: 50,
        b: 0,
        g: 0
    };
    loop();
});

function loop() {
    color.g++;
    draw(data,color);
    setTimeout(loop,10);
}

function draw(imageData, color) {

    for(var i = 0; i < imageData.data.length; i += 4) {
        imageData.data[i] = Math.max(color.r, imageData.data[i]);
        imageData.data[i + 1] = Math.max(color.g, imageData.data[i + 1]);
        imageData.data[i + 2] = Math.max(color.b, imageData.data[i + 2]);
    }

    var drawImage = context.createImageData(imageData.width,imageData.height);
    for(var i = 0; i < imageData.data.length; i++) {
        drawImage.data[i] = imageData.data[i];
    }

    context.putImageData(drawImage,0,0);
    context.stroke();
}

function loadImage(imageData) {
    var base = imageData[0];

    var image = [];

    for(var i = 0;i<imageData[3].length; i++) {
        var d = [imageData[3][i][0],imageData[3][i][1],imageData[3][i][2],imageData[3][i][3]]
        for(var h = 0; h < imageData[3][i][4].length; h++) {
            var j = imageData[3][i][4][h];
            image[j] = d[0];
            image[j + 1] = d[1];
            image[j + 2] = d[2];
            image[j + 3] = d[3];
        }
    }

    for(var i = 0; i < imageData[1] * imageData[2] * 4; i += 4) {
        if(typeof image[i] === 'undefined') {
            image[i] = base[0];
            image[i + 1] = base[1];
            image[i + 2] = base[2];
            image[i + 3] = base[3];
        }
    }

    return {
        data: image,
        width: imageData[1],
        height: imageData[2]
    };
}